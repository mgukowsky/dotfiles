# My tmux configuration. Forked from tmux themepack (https://github.com/jimeh/tmux-themepack/blob/master/powerline/default/blue.tmuxtheme)
# and gpakosz's tmux config (https://github.com/gpakosz/.tmux)

# Use vi mode
set-window-option -g mode-keys vi

# Enable vi-esque copypasta (must still use C-a,p for paste, though...)
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel
bind-key -T prefix 'p' paste-buffer

# Enable vi-style navigation
bind-key -r -T prefix 'k' select-pane -U
bind-key -r -T prefix 'j' select-pane -D
bind-key -r -T prefix 'h' select-pane -L
bind-key -r -T prefix 'l' select-pane -R

# Better scrollback history length (beware RAM comsumption w/ many panes...)
set-option -g history-limit 10000

# Use Ctrl-a for commands instead of default Ctrl-b
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Prevent long waits for escape characters (i.e. ESC in vim)
set -s escape-time 0

# Start window numbering at 1
set -g base-index 1
setw -g pane-base-index 1

# Allow tmux to change terminal title
set -g set-titles on

set -g status-interval 1

# Basic status bar colors
set -g status-style fg=colour238,bg=colour233

# Left side of status bar
set -g status-left "#[fg=black,bg=yellow,bold] ❐ #S #[fg=yellow,bg=colour233,nobold] "

# Right side of status bar
set -g status-right "#[fg=colour23,bg=colour233,nobold] #[fg=colour253,bg=colour23,nobold] #(whoami) #[fg=colour233,bg=colour253,nobold] #H"

# Window status
set -g window-status-format "#[fg=colour233,bg=colour233]#[fg=white,nobold]#I:#W#[fg=colour233,bg=colour233,nobold]"
set -g window-status-current-format "#[fg=colour233,bg=colour28]#[fg=colour233,nobold]#I:#W#[fg=colour28,bg=colour233,nobold]"

# Current window status
set -g window-status-current-style bg=colour100,fg=colour235

# Window with activity status
set -g window-status-activity-style bg=colour233,fg=colour245

# Window separator
set -g window-status-separator ""

# Window status alignment
set -g status-justify left

# Pane border
set -g pane-border-style bg=default,fg=colour238

# Active pane border
set -g pane-active-border-style bg=default,fg=colour24

# Pane number indicator
set -g display-panes-colour colour233
set -g display-panes-active-colour colour245

# Clock mode
set -g clock-mode-colour colour24
set -g clock-mode-style 24

# Message
set -g message-style bg=colour24,fg=black

# Command message
set -g message-command-style bg=colour233,fg=black

# Mode
set -g mode-style bg=colour24,fg=colour231

# Persist certain environment variables
set -g update-environment 'DISPLAY TERM'
set-option -g default-terminal "tmux-256color"
set-option -ga terminal-overrides ",xterm-256color:Tc"

# Mouse support
set -g mouse on
