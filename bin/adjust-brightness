#!/bin/bash
if [[ "$#" -ne 1 || ! "$1" =~ ^[+-]$ ]]; then
  echo "Usage: $0 +|-"
  exit 1
fi

if [ "$1" == "+" ]; then
  brightnessctl set +5%
else
  brightnessctl set 5%-
fi

brightness=$(brightnessctl get)
max_brightness=$(brightnessctl max)
percent=$((brightness * 100 / max_brightness))

# TODO: use better unique ID
notify-send -r 9991 -h int:value:$percent -h string:synchronous:my-notification "ï„ˆ Brightness: $percent%"
